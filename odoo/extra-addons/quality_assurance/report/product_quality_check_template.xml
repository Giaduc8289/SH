<?xml version="1.0" encoding="utf-8"?>

<odoo>

    <template id="report_product_quality_check_document">
        <t t-call="web.html_container">
            <t t-call="web.report_layout">
                <meta charset="utf-8"/>
                <link rel="stylesheet" href="/base_inheritance/static/src/css/style.css"/>
                <div class="page">
                    <div class="oe_structure"/>
                    <br/>
                    <h2 style="text-transform: uppercase" class="text-center bold"><center>Quality test report</center></h2>
                    <p class="text-center"><strong>Product: <t t-esc="docs.product_id.name"/></strong></p>
                    <p class="text-center"><strong>Date: <t t-esc="docs.date"
                                                                     t-options='{"widget": "date"}'/></strong></p>
                    <br/>

                    <p><strong>Supplier:<t t-esc="docs.picking_id.partner_id.name"/> </strong></p>
<!--                    <p><strong>Number Plate:<t t-esc="docs.picking_id.purchase_id.id"/> </strong></p>-->
                    <div>
                        <table class="table-bordered">
                            <thead>
                                <tr>
                                    <th style="width :3%" class="table-item">No.</th>
                                    <th style="width :12%" class="table-item">Criteria</th>
                                    <th style="width :7.5%" class="table-item">Minimum</th>
                                    <th style="width :7.5%" class="table-item">Maximum</th>
                                    <th style="width :10%" class="table-item">Qualitative test</th>
                                    <th style="width :10%" class="table-item">Quantitative test</th>
                                    <th style="width :10%" class="table-item">Quality test results</th>
                                    <th style="width :12%" class="table-item">Status</th>
                                    <th style="width :28%" class="table-item">Note</th>
                                </tr>
                            </thead>
                            <tbody class="sale_tbody">
                                <t t-set="i" t-value="1"/>
                                <t t-foreach="docs" t-as="doc">
                                    <t t-foreach="doc.tests" t-as="o">
                                        <tr>
                                            <td class="text-center">
                                                <span t-esc="i"/>
                                                <t t-set="i" t-value="i+1"/>
                                            </td>
                                            <td class="text-left">
                                                <span t-esc="o.name.split('- ',1)[1]"/>
                                            </td>
                                            <td class="text-center">
                                                <p><span t-field="o.quantity_min"/></p>
                                            </td>
                                            <td class="text-center">
                                                <p><span t-field="o.quantity_max"/></p>
                                            </td>
                                            <td class="text-center">
                                                <span t-field="o.test_result"/>
                                            </td>
                                            <td class="text-center">
                                                <span t-field="o.test_result2"/>
                                            </td>
                                            <td class="text-center">
                                                <span t-field="o.test_status"/>
                                            </td>
                                            <td class="text-center">
                                                <t t-if="o.test_status=='pass'">
                                                    <span>Receiving</span>
                                                </t>
                                                <t t-if="o.test_status=='fail'">
                                                    <span>Returning or negotiate</span>
                                                </t>
                                            </td>
                                            <td class="text-center">

                                            </td>
                                            <!--                                        <td class="text-left">-->
                                            <!--                                            <span t-field="o.date"/>-->
                                            <!--                                        </td>-->
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                        </table>
                    </div>
                    <br/>
                    <p><strong>Conclusion of the KCS:</strong></p>
                    <div style="display: flex; justify-content: space-between;width :50%; align: left;">
                        <br/>
                        <div style="">
                            <div style="display: flex;  justify-content: space-between;"><p>1. Products can be put into stock:</p><div style="width:30px;"></div><div style="width:20px; height: 20px; box-sizing: content-box; border : solid 1px #000000;"></div> </div>
                             <div style="display: flex;  justify-content: space-between;"><p>2. Return the provider:</p><div style="width:30px;"></div><div style="width:20px; height: 20px; box-sizing: content-box; border : solid 1px #000000;"></div> </div>
                            <div style="display: flex;  justify-content: space-between;"><p>3. Other: ..............</p><div style="width:30px;"></div><div style="width:20px; height: 20px; box-sizing: content-box; border : solid 1px #000000;"></div> </div>
                        </div>
                        <div>
                            <p>4. Reduced protein levels:.............. %</p>
                            <p>5. Discount:..................... Ä‘/kg</p>
                            <p>6. Other deductions: ..................... </p>
                        </div>
                    </div>
                    <div class="oe_structure"/>
                </div>
            </t>
        </t>
    </template>

</odoo>
