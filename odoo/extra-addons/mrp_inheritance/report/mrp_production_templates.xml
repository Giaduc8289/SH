<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="custom_mrp_order">
        <meta charset="utf-8"/>
        <t t-foreach="docs" t-as="o">

            <t t-if="o and 'company_id' in o">
                <t t-set="company" t-value="o.company_id"></t>
            </t>
            <t t-if="not o or not 'company_id' in o">
                <t t-set="company" t-value="res_company"></t>
            </t>
            <div class="header" style="margin-top : 50px;">
                <div class="row mt32 mb32">
                    <div class="col-6">
                        <img src="/sale_inheritance/static/img/logobc.png" style="max-height: 50px;"/>
                    </div>
                    <div class="col-6 text-right" style="font:12px lucida-console,sans-serif !important;">
                        <span style="font-weight:bold">CÔNG TY TNHH TM &#38; CÔNG NGHỆ SINH HÓA</span>
                        <br/>
                        <span>Trụ sở : Số 10, ngõ 80/3, Phố Nhân Hòa, Phường Nhân Chính, Q.Thanh Xuân - TP. Hà
                            Nội</span>
                        <br/>
                        <span>Nhà máy: Lô 44G, KCN Quang Minh, Mê Linh, Hà Nội</span>
                        <br/>
                        <span style="font-weight:bold">Tel: 043.818.2266, Fax: 043.216.1165</span>
                        <br/>
                    </div>
                </div>
            </div>
            <br/><br/>
            <t t-call="base_inheritance.report_no_logo_layout">
                <link rel="stylesheet" href="/base_inheritance/static/src/css/style.css"/>
                <div class="page" style="font-family :Arial !important;">
                    <div class="oe_structure"/>
                    <h2 class="text-center bold" style="text-transform : uppercase;"><center>production order <span t-field="o.name"/></center></h2>

                    <table class="table-bordered">
                        <thead>
                            <tr>
                                <th style="width:10%;" class="table-item">Product ID</th>
                                <th style="width: 30%;" class="table-item">Product</th>
                                <th style="width: 14%;" class="table-item">Quantity</th>
                                <th style="width: 14%;" class="table-item">Barcode</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span t-field="o.origin"/></td>
                                <td><span t-field="o.product_id"/></td>
                                <td>
                                    <span t-field="o.product_qty"/>
                                    <span t-field="o.product_uom_id.name" groups="uom.group_uom"/>
                                </td>
                                <td>
                                    <span class="text-right">
                                        <div t-field="o.name"
                                             t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:350px;height:60px'}"/>
                                    </span>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                    <br/><br/>
                    <div>
                        <center>
                            <h2>Necessary ingredients</h2>
                        </center>
                    </div>
                    <table class="table-bordered">
                        <thead>
                            <tr>
                                <th style="width :3%" class="table-item">No.</th>
                                <th style="width: 30%;" class="table-item">Ingredients</th>
                                <th style="width: 20%;" class="table-item">Warehouse</th>
                                <th style="width: 15%;" class="table-item">Quantity</th>
                                <th style="width: 10%; " class="table-item">Unit</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-set="i" t-value="1"/>
                            <t t-foreach="docs" t-as="doc">
                                <t t-foreach="doc.move_raw_ids" t-as="o">
                                    <tr>
                                        <td style="text-align : center;">
                                            <span t-esc="i"/>
                                            <t t-set="i" t-value="i+1"/>
                                        </td>
                                        <td><span t-field="o.product_tmpl_id"/></td>
                                        <td class="text-center"><span t-field="o.location_id"/></td>
                                        <td class="text-center"><span t-field="o.product_qty"/></td>
                                        <td class="text-center"><span t-field="o.product_uom"
                                                                      groups="uom.group_uom"/></td>
                                    </tr>
                                </t>
                            </t>
                        </tbody>
                    </table>
                </div>
            </t>

            <br/>
        </t>
    </template>

    <template id="custom_report_mrp_order" inherit_id="mrp.report_mrporder">
        <xpath expr="//t[@t-call='web.html_container']" position="replace">
            <t t-call="mrp_inheritance.custom_mrp_order"/>
            <p style="page-break-after : always;"></p>
        </xpath>
    </template>
</odoo>